# cat_tools - コードレビューガイドライン

## プロジェクト概要
猫の年齢を人間年齢に換算するWebアプリケーション「cat_tools」のコードレビューガイドライン

**重要：このリポジトリのすべてのコードレビューは必ず日本語で行ってください。**

## 言語設定
- すべてのコードレビューコメントは必ず日本語で提供すること
- 技術用語は必要に応じて英語のまま使用しても構いませんが、説明文は必ず日本語で記述してください

## コーディング規則

### 全般
- DRY（Don't Repeat Yourself）原則を守る
- KISS（Keep It Simple, Stupid）原則を守る
- 関数やメソッドは単一責任の原則に従う
- 適切なエラーハンドリングを実装する
- 不要なコメントアウトコードは残さない

### 命名規則
- 変数名、関数名は意図が明確に伝わる名前にする
- 略語の使用は広く知られているものに限定する
- Reactコンポーネントはパスカルケース（PascalCase）で命名
- 変数や関数はキャメルケース（camelCase）で命名
- 定数は大文字のスネークケース（SNAKE_CASE）で命名

### TypeScript/JavaScript
- 厳密な型定義を使用し、any型の使用は原則禁止
- 日付処理にはdate-fnsライブラリを使用し、直接のDate操作は避ける
- nullよりもundefinedを優先する
- オプショナルチェイニングと空値合体演算子を活用する
- 非同期処理には適切にasync/awaitを使用する
- ユーザー入力値のバリデーションを必要に応じて実装する

### Next.js
- App Routerを使用し、Pages Routerは使用しない（Next.js 15対応）
- サーバーサイドとクライアントサイドの処理を明確に分離する
- 'use client'ディレクティブは必要最小限に使用する
- 静的生成を優先し、動的レンダリングは必要な場合のみ使用する

### React
- 関数コンポーネントとHooksを優先する
- useMemoとuseCallbackを適切に使用してパフォーマンスを最適化する
- コンポーネントは小さく保ち、単一の責任を持たせる
- Propsには適切な型定義を行う（TypeScriptインターフェースを活用）
- Material-UIコンポーネントを使用する際は一貫性を保つ

### スタイリング
- Tailwind CSSを主要なスタイリング手法として使用する
- レスポンシブデザインを必ず考慮する
- Material-UIとTailwind CSSの併用時は、一貫したデザインシステムを維持する

### テスト
- Jest + Testing Libraryを使用してユニットテスト・統合テストを実装する
- エッジケース（未来の日付、異常値）を含む境界値テストを必ず実装する
- テストは読みやすく、目的が明確であること
- テストデータは実際のユースケースに応じた値をもとにした実用的なものを使用する

### パフォーマンス
- 日付計算ロジックの最適化を重視する
- 不必要な再レンダリングを避ける（特に日付入力時）
- Next.js 15のTurbopackを活用したビルド最適化
- 画像は適切に最適化し、WebPフォーマットを優先する

### アクセシビリティ
- Material-UIのアクセシビリティ機能を活用する
- 日付入力フィールドは適切なラベルとaria属性を設定する
- キーボードナビゲーションをサポートする
- スクリーンリーダーでの利用を考慮する

### SEO・メタデータ
- 各ページに適切なメタデータを設定する
- 構造化データ（JSON-LD）を活用して検索エンジンの理解を促進する
- OGPタグを適切に設定してソーシャルメディアでの共有を最適化する

### セキュリティ
- ユーザー入力（誕生日）は厳密にバリデーションする
- XSS攻撃に対する防御策を講じる
- Google Analytics 4の実装時は個人情報保護に配慮する

## プロジェクト固有のレビュー重点項目

### 猫の年齢計算ロジック
- 計算式の正確性（子猫期：1ヶ月=1.25歳、1歳以降の変換率）
- 日付処理のエラーハンドリング
- ライフステージ判定の適切性
- 次の誕生日計算の正確性

### ユーザビリティ
- 日付入力の使いやすさ（Material-UI DatePicker）
- エラーメッセージの分かりやすさ
- 結果表示の見やすさ
- 共有機能の動作確認

### レスポンシブデザイン
- モバイルファーストの設計
- タブレット・デスクトップでの表示確認
- タッチデバイスでの操作性

### 国際化対応
- 日本語のテキスト定数管理（`constants/text.ts`）
- 日本の文化に適したUI/UX
- 将来的な多言語対応への配慮

## コードレビューチェックリスト

### 基本チェック項目

#### 機能面
- [ ] エッジケースのハンドリングが適切
- [ ] ユーザー入力のバリデーションが実装されている
- [ ] エラーメッセージが分かりやすい

#### コード品質
- [ ] TypeScriptの型安全性が保たれている
- [ ] DRY原則が守られている
- [ ] 単一責任の原則が守られている
- [ ] 適切な命名規則が使用されている

#### テスト
- [ ] ユニットテストが実装されている
- [ ] テストカバレッジが適切
- [ ] エッジケースのテストが含まれている
- [ ] テストが理解しやすく記述されている

#### パフォーマンス
- [ ] 不必要な再レンダリングが発生していない
- [ ] 日付計算が最適化されている
- [ ] 画像が適切に最適化されている

#### アクセシビリティ
- [ ] キーボードナビゲーションが適切
- [ ] スクリーンリーダー対応が考慮されている
- [ ] aria属性が適切に設定されている
- [ ] コントラスト比が適切

#### SEO・メタデータ
- [ ] ページタイトルが適切
- [ ] メタデータが設定されている
- [ ] OGPタグが適切
- [ ] 構造化データが考慮されている

#### レスポンシブデザイン
- [ ] モバイルでの表示が適切
- [ ] タブレットでの表示が適切
- [ ] デスクトップでの表示が適切

### プロジェクト固有のチェック

#### 猫の年齢計算
- [ ] 子猫期（0-1歳）の計算式が正しい
- [ ] 若年成猫期（1-6歳）の計算が正しい
- [ ] 成熟成猫期（7-10歳）の計算が正しい
- [ ] シニア期（11歳以上）の計算が正しい
- [ ] ライフステージ判定が適切

#### UI/UX
- [ ] 日付入力が使いやすい
- [ ] 結果表示が見やすい
- [ ] 共有機能が正常に動作する
- [ ] ローディング状態が適切

### 推奨改善点

#### コード改善
- [ ] より良い実装方法の提案
- [ ] パフォーマンス向上の提案
- [ ] 保守性向上の提案

#### ユーザビリティ
- [ ] UI/UXの改善提案
- [ ] アクセシビリティ向上の提案
- [ ] エラーハンドリングの改善提案

## Gemini Code Assist 設定について

### config.yaml の主要設定
- `max_review_comments: 10` - レビューコメント数の上限
- `comment_severity_threshold: MEDIUM` - コメントの重要度閾値
- `ignore_paths` - テストファイル、ビルド成果物を除外
- `focus_areas` - アクセシビリティ、パフォーマンス、セキュリティを重視

### カスタマイズ方法
重要度閾値を調整したい場合：
```yaml
comment_severity_threshold: LOW    # より多くのコメント
comment_severity_threshold: HIGH   # 重要なコメントのみ
```